version: '3.7'

services:
  app:
    build:
      dockerfile: Dockerfile-dev
      context: .
    image: ${DOCKER_REGISTRY}/${REGISTRY_NAMESPACE}/${SERVICE}:${SERVICE_VERSION}
    volumes:
      - ./data:/opt/data
      - ./src:/opt/app/src
      - ./plugins:/opt/app/plugins
      - ./.eslintrc:/opt/app/.eslintrc
      - ./jest.config.js:/opt/app/jest.config.js
      - ./package.json:/opt/app/package.json
      - ./package-lock.json:/opt/app/package-lock.json
      - ./tsconfig.json:/opt/app/tsconfig.json
      - ./tslint.json:/opt/app/tslint.json
    networks:
      quality-dashboard-network:
        aliases:
          - quality-dashboard-server

networks:
  quality-dashboard-network:
    external: true
